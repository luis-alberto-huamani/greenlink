{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[\"d865\"],{BXoe:function(e,t,n){\"use strict\";n.r(t);var a=n(\"q1tI\"),i=n.n(a),r=n(\"R9S9\"),c=n(\"9Jkg\"),o=n.n(c),l=n(\"0iUn\"),s=n(\"sLSF\"),m=n(\"MI3g\"),u=n(\"a7VT\"),d=n(\"AT/M\"),p=n(\"Tit0\"),g=(n(\"0xvU\"),n(\"sOKU\")),h=function(e){function t(e){var n;return Object(l.default)(this,t),(n=Object(m.default)(this,Object(u.default)(t).call(this,e))).state={imgSrc:null,preview:!1},n.onChange=n.onChange.bind(Object(d.default)(n)),n.onSubmit=n.onSubmit.bind(Object(d.default)(n)),n}return Object(p.default)(t,e),Object(s.default)(t,[{key:\"componentDidMount\",value:function(){console.log(this.props.id)}},{key:\"onChange\",value:function(e){var t=this,n=e.target.files[0],a=new FileReader;a.onloadend=function(){t.setState({imgSrc:a.result})},n?this.setState({imgSrc:a.readAsDataURL(n)}):this.setState({imgSrc:null})}},{key:\"onSubmit\",value:function(e){e.preventDefault();var t={img:this.state.imgSrc,id:this.props.id},n={headers:{\"Content-Type\":\"application/json\"},mode:\"cors\",body:o()(t),method:\"POST\"};fetch(\"/api/postregister\",n).then(function(e){e.ok?e.text().then(function(e){window.location=\"/perfil?id=\".concat(e)}):e.text().then(function(e){return console.log(e)})}).catch(function(e){return console.log(e)})}},{key:\"render\",value:function(){return i.a.createElement(\"section\",{className:\"post_register_main_cont shadow\"},i.a.createElement(\"div\",{className:\"header_postr\"},i.a.createElement(\"div\",{className:\"steps_cont\"},i.a.createElement(\"p\",{className:\"step_active\"},\"1\"),i.a.createElement(\"svg\",{height:\"5\",widths:\"100%\"},i.a.createElement(\"line\",{x1:\"0\",y1:\"0\",x2:\"100%\",y2:\"0\"})),i.a.createElement(\"p\",{className:\"step_inactive\"},\"2\"),i.a.createElement(\"svg\",{height:\"5\",widths:\"100%\"},i.a.createElement(\"line\",{x1:\"0\",y1:\"0\",x2:\"100%\",y2:\"0\"})),i.a.createElement(\"p\",{className:\"step_inactive\"},\"3\"))),i.a.createElement(\"div\",{className:\"body_postr\"},i.a.createElement(\"form\",{onSubmit:this.onSubmit,method:\"POST\"},i.a.createElement(\"label\",{htmlFor:\"perfilImg\"},this.state.imgSrc&&i.a.createElement(\"img\",{src:this.state.imgSrc,alt:\"preview\"}),i.a.createElement(\"div\",{className:\"image_box\"},i.a.createElement(\"p\",null,\"Elige una imagen de perfil\")),i.a.createElement(\"input\",{onChange:this.onChange,id:\"perfilImg\",name:\"perfilImg\",type:\"file\"})),i.a.createElement(g.a,{type:\"submit\",outline:!0},\"Siguiente\"))),i.a.createElement(\"div\",{className:\"footer_postr\"}))}}]),t}(a.Component),f=function(e){return i.a.createElement(r.a,null,i.a.createElement(h,{id:e.id}))};f.getInitialProps=function(e){return{id:e.query.id}};t.default=f},gQAA:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/postregister\",function(){var e=n(\"BXoe\");return{page:e.default||e}}])}},[[\"gQAA\",\"5d41\",\"9da1\",\"ad9d\"]]]);"}